{
  "id": "mfc_25_06_multi_regles",
  "version": "1.0",
  "titre": "ðŸŽ¯ MFC avancÃ©e : plusieurs rÃ¨gles combinÃ©es",

  "metadata": {
    "niveau": "avance",
    "duree_estimee": "15 min",
    "competences_ids": [25],
    "competences_noms": ["MFC avancÃ©e"],
    "prerequis": [10],
    "objectif_pedagogique": "CrÃ©er et ordonner plusieurs rÃ¨gles MFC pour un systÃ¨me de notation visuelle",
    "source_pdf": "Chapter 27: Conditional formatting - multiple rules",
    "requires_screenshot": true
  },

  "contexte": {
    "situation": "Tu crÃ©es un bulletin de notes avec un code couleur : vert pour TrÃ¨s bien, jaune pour Bien, orange pour Passable, rouge pour Insuffisant.",
    
    "personnage": "Toi, professeur crÃ©ant un tableau de notes visuellement clair.",
    
    "objectif": "Appliquer 4 rÃ¨gles MFC ordonnÃ©es pour crÃ©er un systÃ¨me de couleurs par tranche de notes.",
    
    "motivation": "Plusieurs rÃ¨gles MFC permettent de crÃ©er des systÃ¨mes de classification sophistiquÃ©s.",
    
    "ton": "Le niveau expert : combiner et ordonner plusieurs rÃ¨gles. L'ordre compte !"
  },

  "histoire_des_donnees": {
    "description": "Notes d'un contrÃ´le sur 20 avec mentions Ã  attribuer.",
    "periode": "Janvier 2025",
    "source_fictive": "Carnet de notes"
  },

  "donnees": {
    "headers": ["Ã‰lÃ¨ve", "Note /20"],
    "rows": [
      ["Alice", 18],
      ["Bob", 12],
      ["Claire", 8],
      ["David", 15],
      ["Emma", 5],
      ["Fabien", 14],
      ["GaÃ«lle", 9],
      ["Hugo", 17],
      ["InÃ¨s", 11],
      ["Jules", 6]
    ],
    "placement": {
      "start_cell": "A1",
      "headers_row": 1
    }
  },

  "etapes": [
    {
      "numero": 1,
      "titre": "SÃ©lectionner les notes",
      "consigne": "SÃ©lectionne B2:B11.",
      "temps": "1 min"
    },
    {
      "numero": 2,
      "titre": "CrÃ©er la rÃ¨gle TrÃ¨s bien (>= 16)",
      "consigne": "Accueil > MFC > RÃ¨gles de surbrillance > SupÃ©rieur Ã ... > 15 > Format vert.",
      "aide_contextuelle": ">15 signifie >= 16. Pour inclure 16, on met 'supÃ©rieur Ã  15'.",
      "temps": "2 min"
    },
    {
      "numero": 3,
      "titre": "CrÃ©er la rÃ¨gle Bien (>= 12)",
      "consigne": "MFC > SupÃ©rieur Ã ... > 11 > Format jaune.",
      "temps": "2 min"
    },
    {
      "numero": 4,
      "titre": "CrÃ©er la rÃ¨gle Passable (>= 10)",
      "consigne": "MFC > SupÃ©rieur Ã ... > 9 > Format orange.",
      "temps": "2 min"
    },
    {
      "numero": 5,
      "titre": "CrÃ©er la rÃ¨gle Insuffisant (< 10)",
      "consigne": "MFC > InfÃ©rieur Ã ... > 10 > Format rouge.",
      "temps": "2 min"
    },
    {
      "numero": 6,
      "titre": "VÃ©rifier l'ordre des rÃ¨gles",
      "description": "L'ordre est crucial ! Les rÃ¨gles sont Ã©valuÃ©es de haut en bas.",
      "consigne": "Accueil > MFC > GÃ©rer les rÃ¨gles. VÃ©rifie que l'ordre est : >=16, >=12, >=10, <10.",
      "aide_contextuelle": "Si l'ordre est mauvais, une note de 18 pourrait Ãªtre jaune au lieu de verte !",
      "temps": "2 min"
    }
  ],

  "checkpoints": [
    {
      "id": "cp_multi_1",
      "type": "format",
      "subtype": "mfc_multi_rules",
      "description": "4 rÃ¨gles MFC crÃ©Ã©es",
      "competence_id": 25,
      "validation_type": "visual",
      "requires_screenshot": true,
      "expected": {
        "mfc_detected": true,
        "rules_count": 4
      },
      "points": 25,
      "indices": [
        "Tu dois crÃ©er 4 rÃ¨gles distinctes, pas une Ã©chelle de couleurs.",
        "Chaque rÃ¨gle a son propre seuil et sa propre couleur.",
        "Accueil > MFC > GÃ©rer les rÃ¨gles pour voir toutes tes rÃ¨gles."
      ]
    },
    {
      "id": "cp_multi_2",
      "type": "format",
      "subtype": "mfc_coverage",
      "description": "Couleurs correctement attribuÃ©es",
      "competence_id": 25,
      "validation_type": "visual",
      "requires_screenshot": true,
      "expected": {
        "green_cells": [18, 17],
        "yellow_cells": [15, 14, 12],
        "orange_cells": [11],
        "red_cells": [8, 9, 5, 6]
      },
      "points": 40,
      "indices": [
        "Vert (>=16) : Alice (18), Hugo (17) â†’ 2 cellules",
        "Jaune (12-15) : David (15), Fabien (14), Bob (12) â†’ 3 cellules",
        "Orange (10-11) : InÃ¨s (11) â†’ 1 cellule",
        "Rouge (<10) : Claire (8), Emma (5), GaÃ«lle (9), Jules (6) â†’ 4 cellules"
      ],
      "erreurs_probables": [
        { "type": "wrong_order", "message": "Les couleurs sont mÃ©langÃ©es. VÃ©rifie l'ordre des rÃ¨gles dans 'GÃ©rer les rÃ¨gles'." },
        { "type": "overlapping", "message": "Certaines cellules ont la mauvaise couleur. Les seuils se chevauchent mal." }
      ]
    },
    {
      "id": "cp_multi_3",
      "type": "format",
      "subtype": "mfc_order",
      "description": "RÃ¨gles dans le bon ordre",
      "competence_id": 25,
      "validation_type": "visual",
      "requires_screenshot": true,
      "expected": {
        "order_matters": true,
        "first_rule": ">=16 vert",
        "last_rule": "<10 rouge"
      },
      "points": 25,
      "indices": [
        "L'ordre dans 'GÃ©rer les rÃ¨gles' doit Ãªtre du plus restrictif au moins restrictif.",
        ">=16 doit Ãªtre AVANT >=12, sinon 18 serait jaune !",
        "Utilise les flÃ¨ches haut/bas pour rÃ©ordonner si nÃ©cessaire."
      ]
    },
    {
      "id": "cp_multi_4",
      "type": "format",
      "subtype": "mfc_colors",
      "description": "4 couleurs distinctes utilisÃ©es",
      "competence_id": 25,
      "validation_type": "visual",
      "requires_screenshot": true,
      "expected": {
        "colors_count": 4,
        "colors": ["green", "yellow", "orange", "red"]
      },
      "points": 10
    }
  ],

  "solution_complete": {
    "description": "4 rÃ¨gles MFC ordonnÃ©es : >=16 vert, >=12 jaune, >=10 orange, <10 rouge.",
    "etapes_cles": [
      "CrÃ©er 4 rÃ¨gles avec seuils diffÃ©rents",
      "Attribuer couleurs distinctes",
      "VÃ©rifier l'ordre dans GÃ©rer les rÃ¨gles"
    ]
  },

  "feedback_personnalise": {
    "parfait": "ðŸŽ‰ Excellent ! Tu maÃ®trises les rÃ¨gles MFC multiples. C'est une compÃ©tence pro !",
    "bien": "ðŸ‘ Bien ! Les rÃ¨gles sont lÃ . VÃ©rifie l'ordre si certaines couleurs semblent incorrectes.",
    "ameliorer": "ðŸŽ¯ Presque ! L'ordre des rÃ¨gles est crucial. Mets les plus restrictives en premier.",
    "revoir": "ðŸ”„ CrÃ©e 4 rÃ¨gles sÃ©parÃ©es (pas une Ã©chelle de couleurs) et ordonne-les correctement."
  }
}
